<!DOCTYPE html>
<link rel="import" href="../bower_components/polymer/polymer-element.html">
<link rel="import" href="./tile-shared-styles.html">
<link rel="import" href="./tile-mixin.html">

<dom-module id="tile-cell">
    <template>
        <style include="tile-shared-styles">
            :host {
                display: flex;
                flex-direction: columns;
                justify-content: center;
                align-items: center;
                font-size: 2.5rem;
                font-weight: bolder;
            }
            p {
                font-size: inherit;
                margin: 0;
                padding: 0;
            }
        </style>
        <p>[[value]]</p>
    </template>
    <script>
        class TileCell extends TileMixin(Polymer.Element) {
            static get is() { return 'tile-cell';}

            static get properties() {
                return {
                    /**
                    * the value of this tile
                    * As the rules for 2048 the value should be always a
                    * power of 2 - otherwise defaults to 0
                    */
                    value: {
                        type: Number
                    },
                    /**
                    * the tile is only rendered when its value is 
                    * a power of 2
                    */
                    visible: {
                        type: Boolean,
                        computed: '_toggleVisibility(value)'
                    }
                }
            }

            _toggleVisibility(value) {
                return [2, 4, 6, 16, 32, 64, 128, 256, 512, 1024, 2048]
                    .includes(value);
            }
        }
        customElements.define(TileCell.is, TileCell);
    </script>
</dom-module>
    